{% extends 'base_page.html' %}
{% block title %} | State Comparison{% endblock %}
{% block headcss %}
  {{ super() }}
  <link rel=stylesheet href={{ url_for('static', filename='css/pinwheel.css') }} media=all>
  <style>
  #trajectories_wrap {
    width:450px;
    height:470px;
    float:left;
    position:relative;
  }
  #map_wrap {
    width:470px;
    height:470px;
    float:left;
    margin-right:14px;
    padding: 10px 0 30px;
  }
  #map {
    width:468px;
    height:428px;
    float:left;
    margin-right:14px;
    border:1px solid #ccc;
    background-color:white;
  }
  .chart-line {
    fill: none;
    stroke: rgb(86,180,233)!important;
    stroke-width: 3;
    stroke-linecap: round;
  }
  .chart-line.active {
    stroke:  rgb(0,114,178)!important;
    stroke-width: 5;
  }
  .chart-line.persist1 {
    stroke: rgb(213,94,0)!important;
    stroke-width: 5;
  }
  .chart-line.persist2 {
    stroke: rgb(230,159,0)!important;
    stroke-width: 5;
  }

  .state-boundary.active {
    fill:  rgb(0,114,178)!important;
  }
  .state-boundary.persist1 {
    fill: rgb(213,94,0)!important;
  }
  .state-boundary.persist2 {
    fill: rgb(230,159,0)!important;
  }
  .state-boundary.persist1,.state-boundary.persist2 {
    stroke-width: 2;
  }
  </style>
{% endblock %}
{% block left_nav %}
  {% if state %}
<li class="left_nav_feature_link">
  <a href="{{ url_for('state_pages.overview', state=state) }}" class="offpage-link">
    Back to this state’s legislative overview
  </a></li>
<li class="left_nav_feature_link">
  <a href="{{ url_for('calculator.trajectory', state=state) }}" class="offpage-link">
    Design the future of renewables in this state
  </a></li>
  {% else %}
<li class="left_nav_feature_link">
  <a href="{{ url_for('rpscalc.index') }}" class="offpage-link">
    Choose a state with an RPS
  </a></li>
{% endif %}
{% endblock %}
{% block content %}
{% block header %}
  <section>
    <header>
      <h1 style="">{{ title|replace('_', ' ') }}</h1>
    </header>
  </section>
{% endblock %}
  <section>
    <p>The comparison tools on this page provide a more visual way to see
      how RPS policies vary among states.</p>
  </section>
  <section>
    <h2>Compare State Policy Design</h2>
    <p>Many factors may determine how much renewable energy will be used
      in your state, and how much it will cost. Each ring represents
      important state policies that affect the state renewables environment.
      Compare a state to its neighbors through the colors in the chart and
      the descriptions.</p>
  </section>
  <article id=graph-wrap class=clearfix>
    <div id=graph>
    </div>
    <div id=legend>
      <h2 class=state>Alabama</h2>
      <ul class=legend>
        <li data-segment=rps><div class=dot></div></li>
        <li data-segment=tech_req><div class=dot></div></li>
        <li data-segment=penalties><div class=dot></div></li>
        <li data-segment=geo_eligible><div class=dot></div></li>
        <li data-segment=net_meter><div class=dot></div></li>
        <li data-segment=renew_interconnect><div class=dot></div></li>
        <li data-segment=perform_incentive><div class=dot></div></li>
        <li data-segment=reside_rebate><div class=dot></div></li>
      </ul>
    </div>
  </article>

  <div style="position:absolute">
    <section style="margin-top:5em;border:none">
      <h2>Compare State Trajectories</h2>
      <p>RPS policies often differ in their trajectories, or in how quickly
        they ‘ramp-up’ alternative energy usage toward the final goal.
        Click your state on the map to highlight its trajectory, then choose
        <!-- up to 2 other states --> another state to visually compare on
        the graph.</p>
    </section>
    <div class=clearfix style="margin-top:3em;">
      <div id="map_wrap">
        <div id=map></div>
      </div>
      <div id=trajectories_wrap>
        <div id=trajectories style="position:absolute;left:30px;"></div>
      </div>
    </div>
    <section style="clear: both;border:none;">
      <p>(Once you have familiarized yourself with RPS, visit our RPS
        Feasibility Calculator web tool and try creating a successful policy of
        your own.) Depends on how we want to highlight the calculator on this
        page. You can directly access both the RPS Feasibility Calculator and
        comparison tools from the left sidebar at any time. Please send all
        questions and comments to
        <a href="mailto:info-RDCEP@ci.uchicago.edu">info-RDCEP@ci.uchicago.edu</a>,
        your feedback is welcome!</p>
    </section>
  </div>

{% endblock %}
{% block bodyjs %}
{{ super() }}
<script src={{ url_for('state_comparison.static', filename='js/pinwheel.js') }}></script>

  <script src="{{ url_for('static', filename='js/vendor/d3.geo.projection.v0.min.js') }}?2"></script>
<script src="{{ url_for('static', filename='js/vendor/topojson.v1.min.js') }}?2"></script>
<script src={{ url_for('state_comparison.static', filename='js/trajectory_comparison.js') }}></script>
{% endblock %}